<mvc:View
    controllerName="raccoon.devs.evalproyectos.controller.Principal"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    xmlns:microchart="sap.suite.ui.microchart"
    xmlns:m="sap.m"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:w="sap.ui.integration.widgets"
    height="100%"
>
    <NavContainer
        navigationFinished="onNavigationFinished"
        id="navCon"
        class="navContainerControl sapUiSmallMarginBottom"
    >
        <Page
            id="p1"
            title="{i18n>appTitle}"
            floatingFooter="true"
        >
            <f:GridContainer
                id="demoGrid"
                class="sapUiSmallMargin"
                snapToRow="true"
                allowDenseFill="true"
                inlineBlockLayout="true"
            >
                <f:layout>
                    <f:GridContainerSettings
                        rowSize="84px"
                        columnSize="84px"
                        gap="8px"
                    />
                </f:layout>
                <f:layoutXS>
                    <f:GridContainerSettings
                        rowSize="70px"
                        columnSize="70px"
                        gap="8px"
                    />
                </f:layoutXS>

                <f:Card>
                    <f:layoutData>
                        <f:GridContainerItemLayoutData columns="4" />
                    </f:layoutData>
                    <f:header>
                        <card:Header
                            title="Productos mas vendidos"
                            subtitle=""
                            iconSrc="sap-icon://add-product"
                        />
                    </f:header>
                    <f:content>
                        <m:FlexBox
                            alignItems="Start"
                            justifyContent="SpaceBetween"
                        >
                            <m:items>
                                <microchart:InteractiveDonutChart
                                    selectionChanged="onSelectionChanged"
                                    id="donutChart"
                                    displayedSegments="4"
                                    errorMessageTitle="Áun no se han cargado datos"
                                    errorMessage="Proceso de carga..."
                                />
                            </m:items>
                        </m:FlexBox>
                    </f:content>
                </f:Card>
                <w:Card
                    manifest="test-resources/sap/f/demokit/sample/GridContainer/cardManifest.json"
                >
                    <w:layoutData>
                        <f:GridContainerItemLayoutData
                            minRows="3"
                            columns="4"
                        />
                    </w:layoutData>
                </w:Card>

                <f:Card>
                    <f:layoutData>
                        <f:GridContainerItemLayoutData
                            minRows="4"
                            columns="4"
                        />
                    </f:layoutData>
                    <f:header>
                        <card:Header
                            title="Estimaciones de productos"
                            subtitle="Ganancia por producto | EUR"
                        />
                    </f:header>
                    <f:content>
                        <List
                            showSeparators="None"
                            items="{path: 'products>/productItems'}"
                        >
                            <CustomListItem>
                                <HBox
                                    alignItems="Center"
                                    justifyContent="SpaceBetween"
                                >
                                    <VBox
                                        class="sapUiSmallMarginBegin sapUiSmallMarginTopBottom"
                                    >
                                        <Title
                                            level="H3"
                                            text="{products>title}"
                                        />
                                        <Text text="{products>subtitle}" />
                                    </VBox>
                                    <ObjectStatus
                                        class="sapUiTinyMargin"
                                        text="{products>revenue}"
                                        state="{products>statusSchema}"
                                    />
                                </HBox>
                            </CustomListItem>
                        </List>
                    </f:content>
                </f:Card>

                <GenericTile
                    header="Aceptar/rechazar Insumos"
                    subheader="Mercadería externa"
                    press="handleNav"
                >
                    <layoutData>
                        <f:GridContainerItemLayoutData
                            minRows="2"
                            columns="2"
                        />
                    </layoutData>
                    <customData>
                        <core:CustomData
                            key="target"
                            value="p3"
                        />
                    </customData>
                    <TileContent unit="Items">
                        <NumericContent
                            value="{colleccionProductos>/ProductCollectionStats/Counts/Total}"
                        />
                    </TileContent>
                </GenericTile>

                <f:Card>
                    <f:layoutData>
                        <f:GridContainerItemLayoutData columns="4" />
                    </f:layoutData>
                    <f:header>
                        <card:Header
                            title="Compra un ticket de bus on-line"
                            iconSrc="sap-icon://bus-public-transport"
                            press="onPress"
                        />
                    </f:header>
                    <f:content>
                        <VBox
                            height="115px"
                            class="sapUiSmallMargin"
                            justifyContent="SpaceBetween"
                        >
                            <HBox justifyContent="SpaceBetween">
                                <ComboBox
                                    width="120px"
                                    placeholder="From City"
                                    items="{
									path: 'cities>/cities',
									sorter: { path: 'text' }
								}"
                                >
                                    <core:Item
                                        key="{cities>key}"
                                        text="{cities>text}"
                                    />
                                </ComboBox>
                                <ComboBox
                                    width="120px"
                                    placeholder="To City"
                                    items="{
									path: 'cities>/cities',
									sorter: { path: 'text' }
								}"
                                >
                                    <core:Item
                                        key="{cities>key}"
                                        text="{cities>text}"
                                    />
                                </ComboBox>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <DatePicker
                                    width="186px"
                                    placeholder="Choose Date ..."
                                />
                                <Button
                                    text="Book"
                                    type="Emphasized"
                                />
                            </HBox>
                        </VBox>
                    </f:content>
                </f:Card>

                <GenericTile
                    header="Travel and Expenses"
                    subheader="Access Concur"
                >
                    <layoutData>
                        <f:GridContainerItemLayoutData
                            minRows="2"
                            columns="2"
                        />
                    </layoutData>
                    <TileContent>
                        <ImageContent src="sap-icon://travel-expense" />
                    </TileContent>
                </GenericTile>

                <GenericTile
                    header="Success Map"
                    subheader="Access Success Map"
                >
                    <layoutData>
                        <f:GridContainerItemLayoutData
                            minRows="2"
                            columns="2"
                        />
                    </layoutData>
                    <TileContent
                        unit="EUR"
                        footer="Current Quarter"
                    >
                        <ImageContent src="sap-icon://map-3" />
                    </TileContent>
                </GenericTile>

                <GenericTile header="My Team Calendar">
                    <layoutData>
                        <f:GridContainerItemLayoutData
                            minRows="2"
                            columns="2"
                        />
                    </layoutData>
                    <TileContent
                        unit="EUR"
                        footer="Current Quarter"
                    >
                        <ImageContent src="sap-icon://check-availability" />
                    </TileContent>
                </GenericTile>
            </f:GridContainer>

            <VBox>
                <Button
                    icon="sap-icon://message-popup"
                    type="Reject"
                    class="floatingButton"
                    press="handleNav"
                    width="150px"
                    tooltip="Ir al Feed"
                    text="Nuevos Feeds"
                    iconFirst="false"
                    id="feedPage"
                >
                    <customData>
                        <core:CustomData
                            key="target"
                            value="p2"
                        />
                    </customData>
                </Button>
            </VBox>
            <footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <HBox
                        alignItems="Center"
                        justifyContent="Center"
                    >
                        <Text
                            text="Raccoon Devs 2025 🦝🐾"
                            class="bigFooterText"
                        />
                    </HBox>
                    <ToolbarSpacer />
                </OverflowToolbar>
            </footer>
        </Page>

        <Page
            id="p2"
            title="Opiniones de usuarios"
            navButtonPress="handleNav"
            showNavButton="true"
            showHeader="true"
        >
            <layout:VerticalLayout
                class="sapUiContentPadding"
                width="100%"
            >
                <layout:content>
                    <List
                        headerText="Feed Entries"
                        items="{feed>/EntryCollection}"
                    >
                        <FeedListItem
                            sender="{feed>Author}"
                            icon="{feed>AuthorPicUrl}"
                            senderPress="onPress"
                            iconPress="onPress"
                            info="{feed>Type}"
                            timestamp="{feed>Date}"
                            text="{feed>Text}"
                            convertLinksToAnchorTags="All"
                            actions="{path: 'feed>Actions', templateShareable: false}"
                        >
                            <FeedListItemAction
                                text="{feed>Text}"
                                icon="{feed>Icon}"
                                key="{feed>Key}"
                                press="onActionPressed"
                            />
                        </FeedListItem>
                    </List>
                </layout:content>
            </layout:VerticalLayout>
            <footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <HBox
                        alignItems="Center"
                        justifyContent="Center"
                    >
                        <Text
                            text="Raccoon Devs 2025 🦝🐾"
                            class="bigFooterText"
                        />
                    </HBox>
                    <ToolbarSpacer />
                </OverflowToolbar>
            </footer>
        </Page>

        <Page
            id="p3"
            title="Aceptar/Rechazar Mercaderia"
            navButtonPress="handleNav"
            showNavButton="true"
            showHeader="true"
        >
            <List
                headerText="Productos a recepcionar"
                items="{colleccionProductos>/ProductCollection}"
                swipe="handleSwipe"
                growing="true"
                growingThreshold="5"
                growingScrollToLoad="false"
            >
                <StandardListItem
                    title="{colleccionProductos>Name}"
                    description="{colleccionProductos>ProductId}"
                    icon="{colleccionProductos>ProductPicUrl}"
                    iconDensityAware="false"
                    iconInset="false"
                    counter="{colleccionProductos>Quantity}"
                />
                <swipeContent>
                    <Button press="handleReject" />
                </swipeContent>
            </List>
            <footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <HBox
                        alignItems="Center"
                        justifyContent="Center"
                    >
                        <Text
                            text="Raccoon Devs 2025 🦝🐾"
                            class="bigFooterText"
                        />
                    </HBox>
                    <ToolbarSpacer />
                </OverflowToolbar>
            </footer>
        </Page>
        <Page
            id="p4"
            title="Page 4"
        >
            <footer>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <HBox
                        alignItems="Center"
                        justifyContent="Center"
                    >
                        <Text
                            text="Raccoon Devs 2025 🦝🐾"
                            class="bigFooterText"
                        />
                    </HBox>
                    <ToolbarSpacer />
                </OverflowToolbar>
            </footer>
        </Page>
    </NavContainer>
</mvc:View>
